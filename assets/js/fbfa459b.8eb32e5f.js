"use strict";(self.webpackChunkmbdb_docs=self.webpackChunkmbdb_docs||[]).push([[818],{3905:(e,t,i)=>{i.d(t,{Zo:()=>u,kt:()=>m});var o=i(7294);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t){if(null==e)return{};var i,o,n=function(e,t){if(null==e)return{};var i,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)i=r[o],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)i=r[o],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var l=o.createContext({}),d=function(e){var t=o.useContext(l),i=t;return e&&(i="function"==typeof e?e(t):a(a({},t),e)),i},u=function(e){var t=d(e.components);return o.createElement(l.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var i=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=d(i),h=n,m=c["".concat(l,".").concat(h)]||c[h]||p[h]||r;return i?o.createElement(m,a(a({ref:t},u),{},{components:i})):o.createElement(m,a({ref:t},u))}));function m(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=i.length,a=new Array(r);a[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:n,a[1]=s;for(var d=2;d<r;d++)a[d]=i[d];return o.createElement.apply(null,a)}return o.createElement.apply(null,i)}h.displayName="MDXCreateElement"},9171:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var o=i(7462),n=(i(7294),i(3905));const r={sidebar_position:2},a="App Issues",s={unversionedId:"issues/app-issues",id:"issues/app-issues",title:"App Issues",description:"(list updates daily)",source:"@site/docs/issues/app-issues.md",sourceDirName:"issues",slug:"/issues/app-issues",permalink:"/mbdb-docs/docs/issues/app-issues",draft:!1,editUrl:"https://github.com/Molecular-Biophysics-Database/mbdb-docs/tree/main/docs/issues/app-issues.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"issuesSidebar",previous:{title:"Raising issues",permalink:"/mbdb-docs/docs/issues/intro"}},l={},d=[{value:"Vocabulary API performance",id:"vocabulary-api-performance",level:3},{value:"Deposition form - file upload failure",id:"deposition-form---file-upload-failure",level:3},{value:"deposition form - unclear how to upload measured data",id:"deposition-form---unclear-how-to-upload-measured-data",level:3},{value:"deposition form - Server error when trying to save",id:"deposition-form---server-error-when-trying-to-save",level:3},{value:"CAS over inchikey",id:"cas-over-inchikey",level:3},{value:"Deposition form - Unrolled form and unclear indication of required fields",id:"deposition-form---unrolled-form-and-unclear-indication-of-required-fields",level:3},{value:"Deposition form - Physical conditions at sample handling",id:"deposition-form---physical-conditions-at-sample-handling",level:3},{value:"Deposition form - Default of collection start time is dangerous",id:"deposition-form---default-of-collection-start-time-is-dangerous",level:3},{value:"Deposition form - Imprecise information of associated publications",id:"deposition-form---imprecise-information-of-associated-publications",level:3},{value:"Deposition form - autofilling owner infomation and usage information",id:"deposition-form---autofilling-owner-infomation-and-usage-information",level:3},{value:"Depostion form - Save button difficult to reach",id:"depostion-form---save-button-difficult-to-reach",level:3},{value:"Search listing - Display entities of interest directly",id:"search-listing---display-entities-of-interest-directly",level:3},{value:"Search listing - Use source organism from all of the entities of interest",id:"search-listing---use-source-organism-from-all-of-the-entities-of-interest",level:3},{value:"Search behaviour - record id",id:"search-behaviour---record-id",level:3},{value:"Search behaviour - partial match of word",id:"search-behaviour---partial-match-of-word",level:3},{value:"Search behaviour - More meaningful link when no results are found",id:"search-behaviour---more-meaningful-link-when-no-results-are-found",level:3},{value:"Button Download entry functionality",id:"button-download-entry-functionality",level:3},{value:"Record view - record id not visible",id:"record-view---record-id-not-visible",level:3},{value:"Recordview - Results listing should show associated measurements",id:"recordview---results-listing-should-show-associated-measurements",level:3},{value:"Searching across different types of records",id:"searching-across-different-types-of-records",level:3},{value:"Extraction and loading metadata from files",id:"extraction-and-loading-metadata-from-files",level:3},{value:"UI rebuild command no longer works",id:"ui-rebuild-command-no-longer-works",level:3},{value:"Acquiring DOI",id:"acquiring-doi",level:3}],u={toc:d},c="wrapper";function p(e){let{components:t,...i}=e;return(0,n.kt)(c,(0,o.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"app-issues"},"App Issues"),(0,n.kt)("p",null,"(list updates daily)"),(0,n.kt)("h3",{id:"vocabulary-api-performance"},"Vocabulary API performance"),(0,n.kt)("p",null,"Performance of the vocabulary API appears to be slow, particularly when a larger number of items is requested."),(0,n.kt)("p",null,'On the testing setup that I have available there are 1003 items present in the "organisms" vocabulary. mbdb-app is running in development mode in a VM form a mechanical disk. The VM is accessed via a guest-host network bridge. A request to fetch all 1003 items from the vocabulary often fails with a timeout error. The timeout is set 15 (fifteen) seconds, which should be more than enough to retrieve around ~1000 entries. If the timeout is reduced even further, (say to 1500 ms) even queries with the ',(0,n.kt)("inlineCode",{parentName:"p"},"?suggest"),' parameter begin to time out.\nThe "affiliations" vocabulary (with 1000 entries) fares a little better but a fetch of the entire vocabulary still takes over 5 secs. '),(0,n.kt)("p",null,"These results are very well reproducible."),(0,n.kt)("p",null,"The questions that should probably be asked:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Why is there such a performance disparity between two vocabularies that have the same number of entries?"),(0,n.kt)("li",{parentName:"ul"},"Is this performance expected or is this some defect of the development setup?")),(0,n.kt)("h3",{id:"deposition-form---file-upload-failure"},"Deposition form - file upload failure"),(0,n.kt)("p",null,"Tester bugreport:\nAfter trying to upload a pdf file to the record at 09:25 (23-11-2023) then refreshing the entry view for the database I got the following error:"),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://github.com/Molecular-Biophysics-Database/mbdb-app/assets/20229814/d9eb72a0-885c-45b3-a2e4-57ab6d43c61a",alt:"image"})),(0,n.kt)("p",null,"After removing the pdf file (it was only small, 189 kb) the entry page could be viewed again."),(0,n.kt)("h3",{id:"deposition-form---unclear-how-to-upload-measured-data"},"deposition form - unclear how to upload measured data"),(0,n.kt)("p",null,"Tester comment"),(0,n.kt)("p",null,"Measured data\nNo information that I can see for how the data should be inputted"),(0,n.kt)("p",null,"Is it true that you need to have a field per value you need to upload? "),(0,n.kt)("p",null,"Googling I see that MST output can look like this! So are you asking that each curve is entered point by point? I think I must be missing something\u2026."),(0,n.kt)("h3",{id:"deposition-form---server-error-when-trying-to-save"},"deposition form - Server error when trying to save"),(0,n.kt)("p",null,"While trying to save after entering solvent details, I got this error message (09:00 23/11-2023)"),(0,n.kt)("p",null,"500 error "),(0,n.kt)("p",null,"Trying again at 09:04 it appeared to have saved\u2026"),(0,n.kt)("h3",{id:"cas-over-inchikey"},"CAS over inchikey"),(0,n.kt)("p",null,"Tester comment:"),(0,n.kt)("p",null,"Consider changing Inchikey to \u201cInChIKey\u201d to be consistent with usage online."),(0,n.kt)("p",null,"Personally have never used InChIKey, why not CAS instead which is more easily found and used in articles when indicating chemicals used\u2026 For example purchasing e.g. from Merck or VWR there is no mention of an InChIKey identifier. Isn\u2019t CAS more universal\u2026? "),(0,n.kt)("h3",{id:"deposition-form---unrolled-form-and-unclear-indication-of-required-fields"},"Deposition form - Unrolled form and unclear indication of required fields"),(0,n.kt)("p",null,"Tester comment:"),(0,n.kt)("p",null,"When looking at the navigation tree, it is telling me that there are some parameters/information missing in the Chemical information section, however when looking at the entry area, there are no red field or indications that something is missing"),(0,n.kt)("p",null,"If chemical environments and entities of interest are required, then I think there should be as default all the fields being shown that are needed. Same goes for all the sub-group entries required in these sections."),(0,n.kt)("h3",{id:"deposition-form---physical-conditions-at-sample-handling"},"Deposition form - Physical conditions at sample handling"),(0,n.kt)("p",null,"Tester question: "),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://github.com/Molecular-Biophysics-Database/mbdb-app/assets/20229814/ae97f46d-f64e-4a08-a1a6-9fc21fde01e6",alt:"image"})),(0,n.kt)("p",null,"Why is the field to add a (few?) digit number so large, and why can it accept so many characters?\nAfter saving it turned the number into this\u2026"),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://github.com/Molecular-Biophysics-Database/mbdb-app/assets/20229814/59df8962-c4e0-41af-bc4c-2ad87778b175",alt:"image"})),(0,n.kt)("h3",{id:"deposition-form---default-of-collection-start-time-is-dangerous"},"Deposition form - Default of collection start time is dangerous"),(0,n.kt)("p",null,"Tester suggestion:"),(0,n.kt)("p",null,"This doesn\u2019t appear to be in any of the groups and doesn\u2019t appear in the navigation tree either."),(0,n.kt)("p",null,"If you have the current date set as default, then chances are people are going to skip over it and therefore it won\u2019t be accurate. Maybe better that no date is defined in a new entry, then force people to enter something before submission."),(0,n.kt)("h3",{id:"deposition-form---imprecise-information-of-associated-publications"},"Deposition form - Imprecise information of associated publications"),(0,n.kt)("p",null,"Tester suggestion:"),(0,n.kt)("p",null,"Tool tip text, change to: \u201cIf this data is published, information about the publication where it is found.\u201d"),(0,n.kt)("h3",{id:"deposition-form---autofilling-owner-infomation-and-usage-information"},"Deposition form - autofilling owner infomation and usage information"),(0,n.kt)("p",null,"Tester notes that:"),(0,n.kt)("p",null,"Depositor and Principal Contact"),(0,n.kt)("p",null,"Is it possible to have a button to autofill the information from the owner information? It would save time!"),(0,n.kt)("p",null,"I wonder if people will really fill out all of these (owner, depositor, principal contact) with different information\u2026 how do you see this information being used?"),(0,n.kt)("p",null,"Once someone is registered in the database, will they be searchable to include automatically, or are you relying on them entering orcid to be able to link all of the records associated with that person?"),(0,n.kt)("h3",{id:"depostion-form---save-button-difficult-to-reach"},"Depostion form - Save button difficult to reach"),(0,n.kt)("p",null,"Tester notes that:"),(0,n.kt)("p",null,"It is possible to scroll down in the page so that you aren\u2019t able to view the \u201cSave\u201d button at the top of the page, so you have to scroll all the way up to save, a bit annoying. Would be nicer if it is more easily accessed during the course of input, to ensure that people can do so regularly during the process."),(0,n.kt)("h3",{id:"search-listing---display-entities-of-interest-directly"},"Search listing - Display entities of interest directly"),(0,n.kt)("p",null,"Iterate over general_parameters.chemical_information_chemicals.entities_of_interest directly instead of going over method_specific_parameters.measurements.samples"),(0,n.kt)("h3",{id:"search-listing---use-source-organism-from-all-of-the-entities-of-interest"},"Search listing - Use source organism from all of the entities of interest"),(0,n.kt)("p",null,"display source organism from all of the entities of interest instead of only the first one"),(0,n.kt)("h3",{id:"search-behaviour---record-id"},"Search behaviour - record id"),(0,n.kt)("p",null,"I tried using record id in searches but it does not seem to work."),(0,n.kt)("h3",{id:"search-behaviour---partial-match-of-word"},"Search behaviour - partial match of word"),(0,n.kt)("p",null,"It may be a current feature but searching for a partial word\nSCV\n(SCV50) is present in the inhibitor name\ngave nothing\nso I had to search for SCV50 to find the records .."),(0,n.kt)("h3",{id:"search-behaviour---more-meaningful-link-when-no-results-are-found"},"Search behaviour - More meaningful link when no results are found"),(0,n.kt)("p",null,"When I did not find the search key and pressed start over - it put me to the complete listing instead of the search page."),(0,n.kt)("h3",{id:"button-download-entry-functionality"},"Button Download entry functionality"),(0,n.kt)("p",null,"It would be ice if the button Download would actually call the usual download window .. to make life easier for us now."),(0,n.kt)("h3",{id:"record-view---record-id-not-visible"},"Record view - record id not visible"),(0,n.kt)("p",null,"In the record view I cannot see the actual id of the record.\nShould be in the top line I think."),(0,n.kt)("h3",{id:"recordview---results-listing-should-show-associated-measurements"},"Recordview - Results listing should show associated measurements"),(0,n.kt)("p",null,"Currently the gp.derived_parameters are iterated over to display results listing. It would be preferable to combine this with information found in msp.data_analysis.measurements, as msp.data_analysis have a derived_parameter that can be used establish the connection. "),(0,n.kt)("h3",{id:"searching-across-different-types-of-records"},"Searching across different types of records"),(0,n.kt)("p",null,"Configure searches to be across all types of records (currently MST, BLI, and SPR) "),(0,n.kt)("h3",{id:"extraction-and-loading-metadata-from-files"},"Extraction and loading metadata from files"),(0,n.kt)("p",null,"Extraction of metadata from instrument provided data files in away that can be accessed by the frontend "),(0,n.kt)("h3",{id:"ui-rebuild-command-no-longer-works"},"UI rebuild command no longer works"),(0,n.kt)("p",null,'Issuing "build" command to "nrp develop" used to trigger automatic UI rebuild and server restart. With the latest code this no longer works because the rebuilding process attempts to reuse a docker container name without removing the old container. Relevant excerpt from the log'),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"=======================================================================\n\nType: \n\n server <enter> --- restart server\n ui <enter> --- restart ui watcher\n build <enter> --- stop server and watcher, \n call ui build, then start again\n stop <enter> --- stop the server and ui and exit\n\nGot command='build'\nRunning docker exec mbdb-site-repo-develop /nrp/bin/nrp develop --command stop --site mbdb-site\n inside /home/mbdb/mbdb-app/sites/mbdb-site\nGot command='stop'\nStopping server\nGoing to kill [81, 17, 11]\nTerminating 81 /invenio/venv/bin/python3 /invenio/venv/bin/invenio run --cert docker/nginx/test.crt --key docker/nginx/test.key -h 0.0.0.0\nTerminating 17 /invenio/venv/bin/python3 /invenio/venv/bin/invenio run --cert docker/nginx/test.crt --key docker/nginx/test.key -h 0.0.0.0\nTerminating 11 /nrp/bin/python /nrp/bin/nrp run --site mbdb-site --outside-docker\nFinished running docker exec mbdb-site-repo-develop /nrp/bin/nrp develop --command stop --site mbdb-site\n inside /home/mbdb/mbdb-app/sites/mbdb-site\nRunning docker compose run --service-ports --rm --no-TTY --name mbdb-site-repo-develop repo develop --site mbdb-site --step DevelopStep\n inside /home/mbdb/mbdb-app/sites/mbdb-site\nError response from daemon: Conflict. The container name \"/mbdb-site-repo-develop\" is already in use by container \"adccae1c70e20a692fec7e2f0dfa405f6d3237420b00de87db7b7475db5844ef\". You have to remove (or rename) that container to be able to reuse that name.\nError running docker compose run --service-ports --rm --no-TTY --name mbdb-site-repo-develop repo develop --site mbdb-site --step DevelopStep\n")),(0,n.kt)("h3",{id:"acquiring-doi"},"Acquiring DOI"),(0,n.kt)("p",null,"Provide Invenio mechanism to trigger DOI generation through DataCite"))}p.isMDXComponent=!0}}]);